<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Server LuaCsForBarotrauma: ConversationAction.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Server LuaCsForBarotrauma
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_barotrauma.html">Barotrauma</a>.<a class="code" href="namespace_barotrauma_1_1_extensions.html">Extensions</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_barotrauma.html">Barotrauma</a>.<a class="code" href="namespace_barotrauma_1_1_networking.html">Networking</a>;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> Microsoft.Xna.Framework;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> System.Linq;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> System.Xml.Linq;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_barotrauma.html">Barotrauma</a></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html">   15</a></span>&#160;    <span class="keyword">partial class </span><a class="code" href="class_barotrauma_1_1_conversation_action.html">ConversationAction</a> : <a class="code" href="class_barotrauma_1_1_event_action.html">EventAction</a></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a99ecf801006990da4acbc1ca00368389">   18</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">enum</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a99ecf801006990da4acbc1ca00368389">DialogTypes</a></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Regular,</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            Small,</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            <a class="code" href="class_barotrauma_1_1_mission.html">Mission</a></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        }</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> InterruptDistance = 300.0f;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> BlockOtherConversationsDuration = 5.0f;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;The text to display in the prompt. Can be the text as-is, or a tag referring to a line in a text file.&quot;</span>)]</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">   34</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">string</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Text</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Tag of the character who&#39;s speaking. Makes a speech bubble icon appear above the character to indicate you can speak with them, and stops the character in place when the conversation triggers. Also allows the conversation to be interrupted if the speaker dies or becomes incapacitated mid-conversation.&quot;</span>)]</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ae2251857ab683ea3d76b9bf50ce7bafc">   37</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Identifier</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ae2251857ab683ea3d76b9bf50ce7bafc">SpeakerTag</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Tag of the player the conversation is shown to. If empty, the conversation is shown to everyone. If SpeakerTag is defined, the conversation is always only shown to the player who interacts with the speaker.&quot;</span>)]</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">   40</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Identifier</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">true</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, <span class="stringliteral">&quot;Should someone interact with the speaker for the conversation to trigger?&quot;</span>)]</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a3b6d14776aa5266410d30c0c42d67de7">   43</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a3b6d14776aa5266410d30c0c42d67de7">WaitForInteraction</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, <span class="stringliteral">&quot;Tag to assign to whoever invokes the conversation.&quot;</span>)]</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a72d7369cf4da614e9b20989f1840f755">   46</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Identifier</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a72d7369cf4da614e9b20989f1840f755">InvokerTag</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">false</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Should the screen fade to black when the conversation is active?&quot;</span>)]</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a6a38fcee310e892cb65d59d46cba67f6">   49</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a38fcee310e892cb65d59d46cba67f6">FadeToBlack</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">true</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, <span class="stringliteral">&quot;Should the event end if the conversations is interrupted (e.g. if the speaker dies or falls unconscious mid-conversation). Defaults to true.&quot;</span>)]</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a9637091e143524c3f5b65da279796341">   52</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a9637091e143524c3f5b65da279796341">EndEventIfInterrupted</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Identifier of an event sprite to display in the corner of the conversation prompt.&quot;</span>)]</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a8f965031cb30ee80393cfb6c959db85c">   55</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">string</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a8f965031cb30ee80393cfb6c959db85c">EventSprite</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a99ecf801006990da4acbc1ca00368389">DialogTypes</a>.Regular, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Type of the dialog prompt.&quot;</span>)]</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a98411d0c28979c18b02deabd3ad4adb2">   58</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a99ecf801006990da4acbc1ca00368389">DialogTypes</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a98411d0c28979c18b02deabd3ad4adb2">DialogType</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">false</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;Does this conversation continue after this ConversationAction? If you have multiple successive ConversationActions, perhaps with some actions happening in between, you can enable this to prevent the dialog prompt from closing between the actions. Not necessary if the ConversationActions are nested inside each other: those are always considered parts of the same conversation, and shown in the same prompt.&quot;</span>)]</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ad7d56bd470657cec68ba58512e4310da">   61</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ad7d56bd470657cec68ba58512e4310da">ContinueConversation</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">false</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;If enabled, the event will not stop to wait for the conversation to be dismissed.&quot;</span>)]</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#aa5295550b542743b3e14fe07573f1c67">   64</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#aa5295550b542743b3e14fe07573f1c67">ContinueAutomatically</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        [<a class="code" href="class_barotrauma_1_1_serialize.html">Serialize</a>(<span class="keyword">false</span>, <a class="code" href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">IsPropertySaveable</a>.Yes, description: <span class="stringliteral">&quot;If SpeakerTag is defined, the conversation is interrupted by default if the speaker and the target end up too far from each other. This can be used to disable that behavior, keeping the dialog prompt open regardless of the distance.&quot;</span>)]</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ae26df50ec75d8d63fc0dd580c6e00cb1">   67</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ae26df50ec75d8d63fc0dd580c6e00cb1">IgnoreInterruptDistance</a> { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">   69</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_character.html">Character</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keyword">get</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keyword">private</span> <span class="keyword">set</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_barotrauma_1_1_a_i_objective.html">AIObjective</a> prevIdleObjective, prevGotoObjective;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_barotrauma_1_1_a_i_objective.html">AIObjective</a> npcWaitObjective;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">   78</a></span>&#160;        <span class="keyword">public</span> List&lt;SubactionGroup&gt; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a> { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">   80</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_event_action_1_1_subaction_group.html">SubactionGroup</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Interrupted</a> { <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> UInt16 actionCount;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="comment">//an identifier the server uses to identify which ConversationAction a client is responding to</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">   85</a></span>&#160;        <span class="keyword">public</span> readonly UInt16 <a class="code" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Identifier</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">int</span> selectedOption = -1;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> dialogOpened = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">double</span> lastActiveTime;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> interrupt;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keyword">private</span> readonly XElement textElement;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ab6c78e45b6c573444181d66403b88832">   96</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ab6c78e45b6c573444181d66403b88832">ConversationAction</a>(<a class="code" href="class_barotrauma_1_1_scripted_event.html">ScriptedEvent</a> parentEvent, <a class="code" href="class_barotrauma_1_1_content_x_element.html">ContentXElement</a> element) : base(parentEvent, element)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            actionCount++;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Identifier</a> = actionCount;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a> = <span class="keyword">new</span> List&lt;SubactionGroup&gt;();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">foreach</span> (var elem <span class="keywordflow">in</span> element.Elements())</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">if</span> (elem.Name.LocalName.Equals(<span class="stringliteral">&quot;option&quot;</span>, StringComparison.OrdinalIgnoreCase))</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.Add(<span class="keyword">new</span> <a class="code" href="class_barotrauma_1_1_event_action_1_1_subaction_group.html">SubactionGroup</a>(<a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>, elem));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem.Name.LocalName.Equals(<span class="stringliteral">&quot;interrupt&quot;</span>, StringComparison.OrdinalIgnoreCase))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <a class="code" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Interrupted</a> = <span class="keyword">new</span> <a class="code" href="class_barotrauma_1_1_event_action_1_1_subaction_group.html">SubactionGroup</a>(<a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>, elem);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem.Name.LocalName.Equals(<span class="stringliteral">&quot;text&quot;</span>, StringComparison.OrdinalIgnoreCase))</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <a class="code" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Text</a> = elem.GetAttributeString(<span class="stringliteral">&quot;tag&quot;</span>, <span class="keywordtype">string</span>.Empty);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    textElement = elem;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="keywordtype">string</span> thisName = nameof(<a class="code" href="class_barotrauma_1_1_conversation_action.html">ConversationAction</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    DebugConsole.ThrowError(</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                        $<span class="stringliteral">&quot;Error in {thisName} in the event \&quot;{parentEvent.Prefab.Identifier}\&quot;&quot;</span> +</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        $<span class="stringliteral">&quot; - unrecognized child element \&quot;{elem.Name}\&quot;. If it&#39;s an action intended to execute after the {thisName}, &quot;</span> +</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        $<span class="stringliteral">&quot;it should be after the {thisName}, not inside it.&quot;</span>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        contentPackage: element.ContentPackage);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a67ad21281b8c526758944b9ca48cd877">  128</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_barotrauma_1_1_localized_string.html">LocalizedString</a> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a67ad21281b8c526758944b9ca48cd877">GetDisplayText</a>()</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <a class="code" href="class_barotrauma_1_1_localized_string.html">LocalizedString</a> text = <span class="keywordtype">string</span>.Empty;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (textElement != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                TextManager.ConstructDescription(ref text, textElement, <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#afc32bbb3dce05901353474a26df91794">GetTextForReplacementElement</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                text = TextManager.Get(<a class="code" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Text</a>).<a class="code" href="class_barotrauma_1_1_localized_string.html#a1c0e34ba9ff88d96cb6836fb26b8eddc">Fallback</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Text</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">if</span> (text.<a class="code" href="class_barotrauma_1_1_localized_string.html#a1d49a0b0daba172e0f369a9d23cae293">Value</a>.IsNullOrEmpty())</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    text = text.<a class="code" href="class_barotrauma_1_1_localized_string.html#a1c0e34ba9ff88d96cb6836fb26b8eddc">Fallback</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Text</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#a8d6a9292e8a7eeec6b5fe94016606aa2">ReplaceVariablesInEventText</a>(text);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#aa46c9b6d71e76d204e6d5f709b8c7776">  147</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> IEnumerable&lt;EventAction&gt; <a class="code" href="class_barotrauma_1_1_conversation_action.html#aa46c9b6d71e76d204e6d5f709b8c7776">GetSubActions</a>()</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.SelectMany(group =&gt; group.Actions);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a0994e700fadb1b387e33b0fd16547182">  152</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a0994e700fadb1b387e33b0fd16547182">IsFinished</a>(ref <span class="keywordtype">string</span> goTo)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (interrupt)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">if</span> (dialogOpened)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#if CLIENT</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    dialogBox?.Close();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    GUIMessageBox.MessageBoxes.ForEachMod(mb =&gt; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    { </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <span class="keywordflow">if</span> (mb.UserData as <span class="keywordtype">string</span> == <span class="stringliteral">&quot;ConversationAction&quot;</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                            (mb as GUIMessageBox)?.Close();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    });</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">foreach</span> (<a class="code" href="class_barotrauma_1_1_networking_1_1_client.html">Client</a> c <span class="keywordflow">in</span> <a class="code" href="class_barotrauma_1_1_game_main.html">GameMain</a>.<a class="code" href="class_barotrauma_1_1_game_main.html#a7e0ad5e70cd26d542a6f6004f54d4d48">Server</a>.<a class="code" href="class_barotrauma_1_1_networking_1_1_game_server.html#a2c382f55d9d3dd932e2ab2c1ff2ed077">ConnectedClients</a>)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">if</span> (c.<a class="code" href="class_barotrauma_1_1_networking_1_1_client.html#a711fda3d81e2ab86a9aded9a577f848b">InGame</a> &amp;&amp; c.<a class="code" href="class_barotrauma_1_1_networking_1_1_client.html#aab1bf4aa50e82b571210681a8fc44580">Character</a> != <span class="keyword">null</span>) { <a class="code" href="class_barotrauma_1_1_conversation_action.html#a806acd82c685fba49c67f5dab10c7785">ServerWrite</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>, c, interrupt); }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    ResetSpeaker();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    dialogOpened = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Interrupted</a> == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a9637091e143524c3f5b65da279796341">EndEventIfInterrupted</a>) { goTo = <span class="stringliteral">&quot;_end&quot;</span>; }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Interrupted</a>.<a class="code" href="class_barotrauma_1_1_event_action_1_1_subaction_group.html#ad89cc00cd91b533afedb2c0e27141a36">IsFinished</a>(ref goTo);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#aa5295550b542743b3e14fe07573f1c67">ContinueAutomatically</a> &amp;&amp; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.None())</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span> dialogOpened;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">if</span> (selectedOption &gt;= 0)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.None() || <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>[selectedOption].IsFinished(ref goTo))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    ResetSpeaker();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a29dcbf398246bc98d0c77a8401a4266c">  204</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a29dcbf398246bc98d0c77a8401a4266c">Reset</a>()</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.ForEach(a =&gt; a.Reset());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            ResetSpeaker();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            selectedOption = -1;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            interrupt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            dialogOpened = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#a31db86cfd64a25f4c123d0097963ebd8">  214</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">bool</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a31db86cfd64a25f4c123d0097963ebd8">SetGoToTarget</a>(<span class="keywordtype">string</span> goTo)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            selectedOption = -1;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.Count; i++)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>[i].<a class="code" href="class_barotrauma_1_1_conversation_action.html#a31db86cfd64a25f4c123d0097963ebd8">SetGoToTarget</a>(goTo))</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    selectedOption = i;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    interrupt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    dialogOpened = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ResetSpeaker()</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> == <span class="keyword">null</span>) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a2f75fbae8b415b47c1fd4026d563bede">CampaignInteractionType</a> = CampaignMode.<a class="code" href="class_barotrauma_1_1_campaign_mode.html#a7fd255ef07a3fa8a585cfc33cc400efe">InteractionType</a>.None;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">ActiveConversation</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a1109f4f8c407febb8cc8805851109a00">SetCustomInteract</a>(<span class="keyword">null</span>, <span class="keyword">null</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#if SERVER</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            GameMain.NetworkMember.CreateEntityEvent(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>, <span class="keyword">new</span> Character.AssignCampaignInteractionEventData());</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a268916096d699d531e844d5a42717dcb">AIController</a> is HumanAIController humanAI &amp;&amp; !<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a26a02dfc53db3a5013e4ad35ed723761">IsDead</a> &amp;&amp; !<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_entity.html#ae40bdfaee2d22e0e2f3bf44bf006964e">Removed</a>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                humanAI.ClearForcedOrder();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">if</span> (prevIdleObjective != <span class="keyword">null</span>) { humanAI.ObjectiveManager.AddObjective(prevIdleObjective); }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">if</span> (prevGotoObjective != <span class="keyword">null</span>) { humanAI.ObjectiveManager.AddObjective(prevGotoObjective); }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                humanAI.ObjectiveManager.SortObjectives();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#ae46000c77bafea59e885bef5ebb49fe9">  248</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">int</span>[] <a class="code" href="class_barotrauma_1_1_conversation_action.html#ae46000c77bafea59e885bef5ebb49fe9">GetEndingOptions</a>()</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            List&lt;int&gt; endings = <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                .Where(group =&gt;  </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    group.EndConversation || </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="comment">//no actions = safe to assume this must end the conversation</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    !group.Actions.Any() ||</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <span class="comment">//no follow-up conversation and a goto makes the event jump somewhere else</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <span class="comment">//we cannot easily determine whether that goto will lead to a follow-up conversation,</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <span class="comment">//so it&#39;s safest to close this conversation to prevent it from getting stuck (the potential follow-up will open a new one)</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    (group.Actions.None(a =&gt; a is <a class="code" href="class_barotrauma_1_1_conversation_action.html">ConversationAction</a>) &amp;&amp; group.Actions.Any(a =&gt; a is <a class="code" href="class_barotrauma_1_1_go_to.html">GoTo</a> { EndConversation: true })))</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                .Select(group =&gt; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.IndexOf(group))</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                .ToList();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#ad7d56bd470657cec68ba58512e4310da">ContinueConversation</a>) { endings.Add(-1); }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">return</span> endings.ToArray();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#aff0d9556947bd2b3ff00b2becd488e69">  265</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#aff0d9556947bd2b3ff00b2becd488e69">Update</a>(<span class="keywordtype">float</span> deltaTime)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (interrupt)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <a class="code" href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Interrupted</a>?.<a class="code" href="class_barotrauma_1_1_event_action_1_1_subaction_group.html#a59900642f6a087998a3d95a3e8cd04c9">Update</a>(deltaTime);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (selectedOption &lt; 0)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span> (dialogOpened)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    lastActiveTime = Timing.TotalTime;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#if CLIENT</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <span class="keywordflow">if</span> (GUIMessageBox.MessageBoxes.Any(mb =&gt; mb.UserData as <span class="keywordtype">string</span> == <span class="stringliteral">&quot;ConversationAction&quot;</span>))</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        <a class="code" href="class_barotrauma_1_1_character.html">Character</a>.DisableControls = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <a class="code" href="class_barotrauma_1_1_conversation_action.html#a29dcbf398246bc98d0c77a8401a4266c">Reset</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <span class="keywordflow">if</span> (ShouldInterrupt(requireTarget: <span class="keyword">true</span>))</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        ResetSpeaker();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        interrupt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#ae2251857ab683ea3d76b9bf50ce7bafc">SpeakerTag</a>.IsEmpty)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">if</span> (npcWaitObjective != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        npcWaitObjective.<a class="code" href="class_barotrauma_1_1_a_i_objective.html#a8b8740a83399e664ba1532575f5328d2">ForceHighestPriority</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> != <span class="keyword">null</span> &amp;&amp; !<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_entity.html#ae40bdfaee2d22e0e2f3bf44bf006964e">Removed</a> &amp;&amp; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a2f75fbae8b415b47c1fd4026d563bede">CampaignInteractionType</a> == <a class="code" href="class_barotrauma_1_1_campaign_mode.html">CampaignMode</a>.<a class="code" href="class_barotrauma_1_1_campaign_mode.html#a7fd255ef07a3fa8a585cfc33cc400efe">InteractionType</a>.Talk &amp;&amp; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">ActiveConversation</a>?.<a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a> != <span class="keyword">this</span>.ParentEvent) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> = <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#aefb29933c37f8b407acdbed993b6a839">GetTargets</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#ae2251857ab683ea3d76b9bf50ce7bafc">SpeakerTag</a>).FirstOrDefault(e =&gt; e is <a class="code" href="class_barotrauma_1_1_character.html">Character</a>) as <a class="code" href="class_barotrauma_1_1_character.html">Character</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> == <span class="keyword">null</span> || <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_entity.html#ae40bdfaee2d22e0e2f3bf44bf006964e">Removed</a>)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <span class="comment">//some conversation already assigned to the speaker, wait for it to be removed</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a2f75fbae8b415b47c1fd4026d563bede">CampaignInteractionType</a> == <a class="code" href="class_barotrauma_1_1_campaign_mode.html">CampaignMode</a>.<a class="code" href="class_barotrauma_1_1_campaign_mode.html#a7fd255ef07a3fa8a585cfc33cc400efe">InteractionType</a>.Talk &amp;&amp; <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">ActiveConversation</a>?.<a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a> != <span class="keyword">this</span>.ParentEvent)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#a3b6d14776aa5266410d30c0c42d67de7">WaitForInteraction</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        TryStartConversation(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">ActiveConversation</a> != <span class="keyword">this</span>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a2f75fbae8b415b47c1fd4026d563bede">CampaignInteractionType</a> = <a class="code" href="class_barotrauma_1_1_campaign_mode.html">CampaignMode</a>.<a class="code" href="class_barotrauma_1_1_campaign_mode.html#a7fd255ef07a3fa8a585cfc33cc400efe">InteractionType</a>.Talk;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">ActiveConversation</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#if CLIENT</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a1109f4f8c407febb8cc8805851109a00">SetCustomInteract</a>(</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                            TryStartConversation, </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                            TextManager.GetWithVariable(<span class="stringliteral">&quot;CampaignInteraction.Talk&quot;</span>, <span class="stringliteral">&quot;[key]&quot;</span>, GameSettings.CurrentConfig.KeyMap.KeyBindText(<a class="code" href="namespace_barotrauma.html#aef3e8dd1c7f82d86897cdd111f258f87">InputType</a>.Use)));</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a1109f4f8c407febb8cc8805851109a00">SetCustomInteract</a>( </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                            TryStartConversation, </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                            TextManager.Get(<span class="stringliteral">&quot;CampaignInteraction.Talk&quot;</span>));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        <a class="code" href="class_barotrauma_1_1_game_main.html">GameMain</a>.<a class="code" href="class_barotrauma_1_1_game_main.html#a8814ae6a86758a7f6c039be0a39d921e">NetworkMember</a>.CreateEntityEvent(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>, <span class="keyword">new</span> <a class="code" href="class_barotrauma_1_1_character.html">Character</a>.<a class="code" href="struct_barotrauma_1_1_character_1_1_assign_campaign_interaction_event_data.html">AssignCampaignInteractionEventData</a>());   </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    TryStartConversation(<span class="keyword">null</span>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="comment">//after the conversation has been finished and the target character assigned,</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="comment">//we no longer care if we still have a target</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">if</span> (ShouldInterrupt(requireTarget: <span class="keyword">false</span>))</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    ResetSpeaker();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    interrupt = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>.Any())</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <a class="code" href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Options</a>[selectedOption].Update(deltaTime);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> ShouldInterrupt(<span class="keywordtype">bool</span> requireTarget)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            IEnumerable&lt;Entity&gt; targets = Enumerable.Empty&lt;<a class="code" href="class_barotrauma_1_1_entity.html">Entity</a>&gt;();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a>.IsEmpty &amp;&amp; requireTarget)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                targets = <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#aefb29933c37f8b407acdbed993b6a839">GetTargets</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a>).Where(e =&gt; IsValidTarget(e, requireTarget));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">if</span> (!targets.Any()) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a>.IsEmpty &amp;&amp; requireTarget &amp;&amp; !<a class="code" href="class_barotrauma_1_1_conversation_action.html#ae26df50ec75d8d63fc0dd580c6e00cb1">IgnoreInterruptDistance</a>)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <span class="keywordflow">if</span> (targets.All(t =&gt; Vector2.DistanceSquared(t.WorldPosition, <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_entity.html#a1e6216dd8b82a1b0d046d3e297fb92f0">WorldPosition</a>) &gt; InterruptDistance * InterruptDistance)) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a268916096d699d531e844d5a42717dcb">AIController</a> is HumanAIController humanAI &amp;&amp; !humanAI.AllowCampaignInteraction())</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;                    </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_entity.html#ae40bdfaee2d22e0e2f3bf44bf006964e">Removed</a> || <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a26a02dfc53db3a5013e4ad35ed723761">IsDead</a> || <a class="code" href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Speaker</a>.<a class="code" href="class_barotrauma_1_1_character.html#a487d54c21be19303d5428430484c0c08">IsIncapacitated</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> IsValidTarget(Entity e, <span class="keywordtype">bool</span> requirePlayerControlled = <span class="keyword">true</span>)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordtype">bool</span> isValid = </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                e is <a class="code" href="namespace_barotrauma.html#ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4">Character</a> character &amp;&amp; !character.Removed &amp;&amp; !character.IsDead &amp;&amp; !character.IsIncapacitated &amp;&amp;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                (character == <a class="code" href="namespace_barotrauma.html#ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4">Character</a>.Controlled || character.IsRemotePlayer || !requirePlayerControlled);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#if SERVER</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">if</span> (!dialogOpened)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                UpdateIgnoredClients();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                isValid &amp;= !ignoredClients.Keys.Any(c =&gt; c.Character == e);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">#elif CLIENT</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordtype">bool</span> block = GUI.InputBlockingMenuOpen &amp;&amp; !dialogOpened;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            isValid &amp;= (e != <a class="code" href="namespace_barotrauma.html#ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4">Character</a>.Controlled || !block);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">return</span> isValid;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> TryStartConversation(Character speaker, Character targetCharacter = <span class="keyword">null</span>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            IEnumerable&lt;Entity&gt; targets = Enumerable.Empty&lt;Entity&gt;();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a>.IsEmpty)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                targets = <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#aefb29933c37f8b407acdbed993b6a839">GetTargets</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">TargetTag</a>).Where(e =&gt; IsValidTarget(e));</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">if</span> (!targets.Any() || IsBlockedByAnotherConversation(targets, BlockOtherConversationsDuration)) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (targetCharacter != <span class="keyword">null</span> &amp;&amp; IsBlockedByAnotherConversation(targetCharacter.ToEnumerable(), 0.1f)) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">if</span> (speaker?.AIController is HumanAIController humanAI)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                prevIdleObjective = humanAI.ObjectiveManager.GetObjective&lt;AIObjectiveIdle&gt;();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                prevGotoObjective = humanAI.ObjectiveManager.GetObjective&lt;AIObjectiveGoTo&gt;();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                npcWaitObjective = humanAI.SetForcedOrder(</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="keyword">new</span> <a class="code" href="namespace_barotrauma_1_1_networking.html#add3372db2e3cffdc066c7a035266a7b2aa240fa27925a635b08dc28c9e4f9216d">Order</a>(OrderPrefab.Prefabs[<span class="stringliteral">&quot;wait&quot;</span>], <a class="code" href="namespace_barotrauma.html">Barotrauma</a>.Identifier.Empty, <span class="keyword">null</span>, orderGiver: <span class="keyword">null</span>));</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">if</span> (targets.Any() || targetCharacter != <span class="keyword">null</span>) </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    Entity closestTarget = targetCharacter;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <span class="keywordtype">float</span> closestDist = <span class="keywordtype">float</span>.MaxValue;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    <span class="keywordflow">foreach</span> (Entity entity <span class="keywordflow">in</span> targets)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        <span class="keywordtype">float</span> dist = Vector2.DistanceSquared(entity.WorldPosition, speaker.WorldPosition);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        <span class="keywordflow">if</span> (dist &lt; closestDist)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                            closestTarget = entity;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                            closestDist = dist;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    <span class="keywordflow">if</span> (closestTarget != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        humanAI.FaceTarget(closestTarget);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">if</span> (targetCharacter != <span class="keyword">null</span> &amp;&amp; !<a class="code" href="class_barotrauma_1_1_conversation_action.html#a72d7369cf4da614e9b20989f1840f755">InvokerTag</a>.IsEmpty)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <a class="code" href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">ParentEvent</a>.<a class="code" href="class_barotrauma_1_1_scripted_event.html#ae59cea1d0265ab15e86a49cf4ad6cf41">AddTarget</a>(<a class="code" href="class_barotrauma_1_1_conversation_action.html#a72d7369cf4da614e9b20989f1840f755">InvokerTag</a>, targetCharacter);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            ShowDialog(speaker, targetCharacter);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            dialogOpened = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">if</span> (speaker != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                speaker.CampaignInteractionType = CampaignMode.InteractionType.None;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                speaker.SetCustomInteract(<span class="keyword">null</span>, <span class="keyword">null</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#if SERVER</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                GameMain.NetworkMember.CreateEntityEvent(speaker, <span class="keyword">new</span> <a class="code" href="namespace_barotrauma.html#ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4">Character</a>.AssignCampaignInteractionEventData());</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        partial <span class="keywordtype">void</span> ShowDialog(Character speaker, Character targetCharacter);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="class_barotrauma_1_1_conversation_action.html#aee8b66ee6dfc592ff149f82ca3bcc55a">  453</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> <a class="code" href="class_barotrauma_1_1_conversation_action.html#aee8b66ee6dfc592ff149f82ca3bcc55a">ToDebugString</a>()</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">if</span> (!interrupt)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="keywordflow">return</span> $<span class="stringliteral">&quot;{ToolBox.GetDebugSymbol(selectedOption &gt; -1, selectedOption &lt; 0 &amp;&amp; dialogOpened)} {nameof(ConversationAction)} -&gt; (Selected option: {selectedOption.ColorizeObject()})&quot;</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keywordflow">return</span> $<span class="stringliteral">&quot;{ToolBox.GetDebugSymbol(true, selectedOption &lt; 0 &amp;&amp; dialogOpened)} {nameof(ConversationAction)} -&gt; (Interrupted)&quot;</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="ttc" id="aclass_barotrauma_1_1_a_i_objective_html"><div class="ttname"><a href="class_barotrauma_1_1_a_i_objective.html">Barotrauma.AIObjective</a></div><div class="ttdef"><b>Definition:</b> <a href="_a_i_objective_8cs_source.html#l00010">AIObjective.cs:11</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_a_i_objective_html_a8b8740a83399e664ba1532575f5328d2"><div class="ttname"><a href="class_barotrauma_1_1_a_i_objective.html#a8b8740a83399e664ba1532575f5328d2">Barotrauma.AIObjective.ForceHighestPriority</a></div><div class="ttdeci">bool ForceHighestPriority</div><div class="ttdef"><b>Definition:</b> <a href="_a_i_objective_8cs_source.html#l00092">AIObjective.cs:93</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_campaign_mode_html"><div class="ttname"><a href="class_barotrauma_1_1_campaign_mode.html">Barotrauma.CampaignMode</a></div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_game_session_2_game_modes_2_campaign_mode_8cs_source.html#l00014">BarotraumaShared/SharedSource/GameSession/GameModes/CampaignMode.cs:15</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_campaign_mode_html_a7fd255ef07a3fa8a585cfc33cc400efe"><div class="ttname"><a href="class_barotrauma_1_1_campaign_mode.html#a7fd255ef07a3fa8a585cfc33cc400efe">Barotrauma.CampaignMode.InteractionType</a></div><div class="ttdeci">InteractionType</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_game_session_2_game_modes_2_campaign_mode_8cs_source.html#l00034">BarotraumaShared/SharedSource/GameSession/GameModes/CampaignMode.cs:34</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html"><div class="ttname"><a href="class_barotrauma_1_1_character.html">Barotrauma.Character</a></div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l00031">BarotraumaShared/SharedSource/Characters/Character.cs:32</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_a1109f4f8c407febb8cc8805851109a00"><div class="ttname"><a href="class_barotrauma_1_1_character.html#a1109f4f8c407febb8cc8805851109a00">Barotrauma.Character.SetCustomInteract</a></div><div class="ttdeci">void SetCustomInteract(Action&lt; Character, Character &gt; onCustomInteract, LocalizedString hudText)</div><div class="ttdoc">Set an action that's invoked when another character interacts with this one.</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l03101">BarotraumaShared/SharedSource/Characters/Character.cs:3101</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_a268916096d699d531e844d5a42717dcb"><div class="ttname"><a href="class_barotrauma_1_1_character.html#a268916096d699d531e844d5a42717dcb">Barotrauma.Character.AIController</a></div><div class="ttdeci">virtual AIController AIController</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l01140">BarotraumaShared/SharedSource/Characters/Character.cs:1141</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_a26a02dfc53db3a5013e4ad35ed723761"><div class="ttname"><a href="class_barotrauma_1_1_character.html#a26a02dfc53db3a5013e4ad35ed723761">Barotrauma.Character.IsDead</a></div><div class="ttdeci">bool IsDead</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l01146">BarotraumaShared/SharedSource/Characters/Character.cs:1147</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_a2f75fbae8b415b47c1fd4026d563bede"><div class="ttname"><a href="class_barotrauma_1_1_character.html#a2f75fbae8b415b47c1fd4026d563bede">Barotrauma.Character.CampaignInteractionType</a></div><div class="ttdeci">CampaignMode.InteractionType CampaignInteractionType</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l01214">BarotraumaShared/SharedSource/Characters/Character.cs:1214</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_a487d54c21be19303d5428430484c0c08"><div class="ttname"><a href="class_barotrauma_1_1_character.html#a487d54c21be19303d5428430484c0c08">Barotrauma.Character.IsIncapacitated</a></div><div class="ttdeci">bool IsIncapacitated</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l00905">BarotraumaShared/SharedSource/Characters/Character.cs:906</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_character_html_afc1a400bf7e332acf4241c416aac4640"><div class="ttname"><a href="class_barotrauma_1_1_character.html#afc1a400bf7e332acf4241c416aac4640">Barotrauma.Character.ActiveConversation</a></div><div class="ttdeci">ConversationAction ActiveConversation</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_characters_2_character_8cs_source.html#l00664">BarotraumaShared/SharedSource/Characters/Character.cs:664</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_content_x_element_html"><div class="ttname"><a href="class_barotrauma_1_1_content_x_element.html">Barotrauma.ContentXElement</a></div><div class="ttdef"><b>Definition:</b> <a href="_content_x_element_8cs_source.html#l00012">ContentXElement.cs:13</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html">Barotrauma.ConversationAction</a></div><div class="ttdoc">Triggers a &quot;conversation popup&quot; with text and support for different branching options.</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00015">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:16</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a0994e700fadb1b387e33b0fd16547182"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a0994e700fadb1b387e33b0fd16547182">Barotrauma.ConversationAction.IsFinished</a></div><div class="ttdeci">override bool IsFinished(ref string goTo)</div><div class="ttdoc">Has the action finished.</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00152">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:152</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a29dcbf398246bc98d0c77a8401a4266c"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a29dcbf398246bc98d0c77a8401a4266c">Barotrauma.ConversationAction.Reset</a></div><div class="ttdeci">override void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00204">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:204</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a31db86cfd64a25f4c123d0097963ebd8"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a31db86cfd64a25f4c123d0097963ebd8">Barotrauma.ConversationAction.SetGoToTarget</a></div><div class="ttdeci">override bool SetGoToTarget(string goTo)</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00214">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:214</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a35683bdc27aaca7377f5f210409b1854"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a35683bdc27aaca7377f5f210409b1854">Barotrauma.ConversationAction.Identifier</a></div><div class="ttdeci">readonly UInt16 Identifier</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00085">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:85</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a3b6d14776aa5266410d30c0c42d67de7"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a3b6d14776aa5266410d30c0c42d67de7">Barotrauma.ConversationAction.WaitForInteraction</a></div><div class="ttdeci">bool WaitForInteraction</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00043">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:43</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a4b88d6af4072653d2d4761565fafcca2"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a4b88d6af4072653d2d4761565fafcca2">Barotrauma.ConversationAction.Speaker</a></div><div class="ttdeci">Character Speaker</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00069">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:70</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a67ad21281b8c526758944b9ca48cd877"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a67ad21281b8c526758944b9ca48cd877">Barotrauma.ConversationAction.GetDisplayText</a></div><div class="ttdeci">LocalizedString GetDisplayText()</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00128">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:128</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a6a38fcee310e892cb65d59d46cba67f6"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a6a38fcee310e892cb65d59d46cba67f6">Barotrauma.ConversationAction.FadeToBlack</a></div><div class="ttdeci">bool FadeToBlack</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00049">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:49</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a6a61c65751da004404791725701f5b72"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a6a61c65751da004404791725701f5b72">Barotrauma.ConversationAction.Options</a></div><div class="ttdeci">List&lt; SubactionGroup &gt; Options</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00078">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:78</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a72d7369cf4da614e9b20989f1840f755"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a72d7369cf4da614e9b20989f1840f755">Barotrauma.ConversationAction.InvokerTag</a></div><div class="ttdeci">Identifier InvokerTag</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00046">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:46</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a806acd82c685fba49c67f5dab10c7785"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a806acd82c685fba49c67f5dab10c7785">Barotrauma.ConversationAction.ServerWrite</a></div><div class="ttdeci">void ServerWrite(Character speaker, Client client, bool interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_server_2_server_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00115">BarotraumaServer/ServerSource/Events/EventActions/ConversationAction.cs:115</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a8f965031cb30ee80393cfb6c959db85c"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a8f965031cb30ee80393cfb6c959db85c">Barotrauma.ConversationAction.EventSprite</a></div><div class="ttdeci">string EventSprite</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00055">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:55</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a9637091e143524c3f5b65da279796341"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a9637091e143524c3f5b65da279796341">Barotrauma.ConversationAction.EndEventIfInterrupted</a></div><div class="ttdeci">bool EndEventIfInterrupted</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00052">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:52</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a98411d0c28979c18b02deabd3ad4adb2"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a98411d0c28979c18b02deabd3ad4adb2">Barotrauma.ConversationAction.DialogType</a></div><div class="ttdeci">DialogTypes DialogType</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00058">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:58</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_a99ecf801006990da4acbc1ca00368389"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#a99ecf801006990da4acbc1ca00368389">Barotrauma.ConversationAction.DialogTypes</a></div><div class="ttdeci">DialogTypes</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00018">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:19</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_aa46c9b6d71e76d204e6d5f709b8c7776"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#aa46c9b6d71e76d204e6d5f709b8c7776">Barotrauma.ConversationAction.GetSubActions</a></div><div class="ttdeci">override IEnumerable&lt; EventAction &gt; GetSubActions()</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00147">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:147</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_aa5295550b542743b3e14fe07573f1c67"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#aa5295550b542743b3e14fe07573f1c67">Barotrauma.ConversationAction.ContinueAutomatically</a></div><div class="ttdeci">bool ContinueAutomatically</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00064">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:64</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_aab598317578c0fc99f1031258274b15c"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#aab598317578c0fc99f1031258274b15c">Barotrauma.ConversationAction.Text</a></div><div class="ttdeci">string Text</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00034">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:34</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ab1973f4930decf4a42cbb08e2d7c60e3"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ab1973f4930decf4a42cbb08e2d7c60e3">Barotrauma.ConversationAction.Interrupted</a></div><div class="ttdeci">SubactionGroup Interrupted</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00080">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:80</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ab6c78e45b6c573444181d66403b88832"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ab6c78e45b6c573444181d66403b88832">Barotrauma.ConversationAction.ConversationAction</a></div><div class="ttdeci">ConversationAction(ScriptedEvent parentEvent, ContentXElement element)</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00096">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:96</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ac125a007018d34aeb97ce1dcc617f141"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ac125a007018d34aeb97ce1dcc617f141">Barotrauma.ConversationAction.TargetTag</a></div><div class="ttdeci">Identifier TargetTag</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00040">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:40</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ad7d56bd470657cec68ba58512e4310da"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ad7d56bd470657cec68ba58512e4310da">Barotrauma.ConversationAction.ContinueConversation</a></div><div class="ttdeci">bool ContinueConversation</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00061">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:61</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ae2251857ab683ea3d76b9bf50ce7bafc"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ae2251857ab683ea3d76b9bf50ce7bafc">Barotrauma.ConversationAction.SpeakerTag</a></div><div class="ttdeci">Identifier SpeakerTag</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00037">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:37</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ae26df50ec75d8d63fc0dd580c6e00cb1"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ae26df50ec75d8d63fc0dd580c6e00cb1">Barotrauma.ConversationAction.IgnoreInterruptDistance</a></div><div class="ttdeci">bool IgnoreInterruptDistance</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00067">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:67</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_ae46000c77bafea59e885bef5ebb49fe9"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#ae46000c77bafea59e885bef5ebb49fe9">Barotrauma.ConversationAction.GetEndingOptions</a></div><div class="ttdeci">int[] GetEndingOptions()</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00248">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:248</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_aee8b66ee6dfc592ff149f82ca3bcc55a"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#aee8b66ee6dfc592ff149f82ca3bcc55a">Barotrauma.ConversationAction.ToDebugString</a></div><div class="ttdeci">override string ToDebugString()</div><div class="ttdoc">Rich test to display in debugdraw</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00453">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:453</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_conversation_action_html_aff0d9556947bd2b3ff00b2becd488e69"><div class="ttname"><a href="class_barotrauma_1_1_conversation_action.html#aff0d9556947bd2b3ff00b2becd488e69">Barotrauma.ConversationAction.Update</a></div><div class="ttdeci">override void Update(float deltaTime)</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_event_actions_2_conversation_action_8cs_source.html#l00265">BarotraumaShared/SharedSource/Events/EventActions/ConversationAction.cs:265</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_entity_html"><div class="ttname"><a href="class_barotrauma_1_1_entity.html">Barotrauma.Entity</a></div><div class="ttdef"><b>Definition:</b> <a href="_entity_8cs_source.html#l00012">Entity.cs:13</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_entity_html_a1e6216dd8b82a1b0d046d3e297fb92f0"><div class="ttname"><a href="class_barotrauma_1_1_entity.html#a1e6216dd8b82a1b0d046d3e297fb92f0">Barotrauma.Entity.WorldPosition</a></div><div class="ttdeci">virtual Vector2 WorldPosition</div><div class="ttdef"><b>Definition:</b> <a href="_entity_8cs_source.html#l00049">Entity.cs:49</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_entity_html_ae40bdfaee2d22e0e2f3bf44bf006964e"><div class="ttname"><a href="class_barotrauma_1_1_entity.html#ae40bdfaee2d22e0e2f3bf44bf006964e">Barotrauma.Entity.Removed</a></div><div class="ttdeci">bool Removed</div><div class="ttdef"><b>Definition:</b> <a href="_entity_8cs_source.html#l00035">Entity.cs:35</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_event_action_1_1_subaction_group_html"><div class="ttname"><a href="class_barotrauma_1_1_event_action_1_1_subaction_group.html">Barotrauma.EventAction.SubactionGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="_event_action_8cs_source.html#l00010">EventAction.cs:11</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_event_action_1_1_subaction_group_html_a59900642f6a087998a3d95a3e8cd04c9"><div class="ttname"><a href="class_barotrauma_1_1_event_action_1_1_subaction_group.html#a59900642f6a087998a3d95a3e8cd04c9">Barotrauma.EventAction.SubactionGroup.Update</a></div><div class="ttdeci">void Update(float deltaTime)</div><div class="ttdef"><b>Definition:</b> <a href="_event_action_8cs_source.html#l00097">EventAction.cs:97</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_event_action_1_1_subaction_group_html_ad89cc00cd91b533afedb2c0e27141a36"><div class="ttname"><a href="class_barotrauma_1_1_event_action_1_1_subaction_group.html#ad89cc00cd91b533afedb2c0e27141a36">Barotrauma.EventAction.SubactionGroup.IsFinished</a></div><div class="ttdeci">bool IsFinished(ref string goTo)</div><div class="ttdef"><b>Definition:</b> <a href="_event_action_8cs_source.html#l00052">EventAction.cs:52</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_event_action_html"><div class="ttname"><a href="class_barotrauma_1_1_event_action.html">Barotrauma.EventAction</a></div><div class="ttdef"><b>Definition:</b> <a href="_event_action_8cs_source.html#l00008">EventAction.cs:9</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_event_action_html_a08aceb29dc31d697de414d7f6c8f51bc"><div class="ttname"><a href="class_barotrauma_1_1_event_action.html#a08aceb29dc31d697de414d7f6c8f51bc">Barotrauma.EventAction.ParentEvent</a></div><div class="ttdeci">readonly ScriptedEvent ParentEvent</div><div class="ttdef"><b>Definition:</b> <a href="_event_action_8cs_source.html#l00106">EventAction.cs:106</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_game_main_html"><div class="ttname"><a href="class_barotrauma_1_1_game_main.html">Barotrauma.GameMain</a></div><div class="ttdef"><b>Definition:</b> <a href="_game_main_8cs_source.html#l00019">GameMain.cs:20</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_game_main_html_a7e0ad5e70cd26d542a6f6004f54d4d48"><div class="ttname"><a href="class_barotrauma_1_1_game_main.html#a7e0ad5e70cd26d542a6f6004f54d4d48">Barotrauma.GameMain.Server</a></div><div class="ttdeci">static GameServer Server</div><div class="ttdef"><b>Definition:</b> <a href="_game_main_8cs_source.html#l00039">GameMain.cs:39</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_game_main_html_a8814ae6a86758a7f6c039be0a39d921e"><div class="ttname"><a href="class_barotrauma_1_1_game_main.html#a8814ae6a86758a7f6c039be0a39d921e">Barotrauma.GameMain.NetworkMember</a></div><div class="ttdeci">static NetworkMember NetworkMember</div><div class="ttdef"><b>Definition:</b> <a href="_game_main_8cs_source.html#l00040">GameMain.cs:41</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_go_to_html"><div class="ttname"><a href="class_barotrauma_1_1_go_to.html">Barotrauma.GoTo</a></div><div class="ttdoc">Makes the event jump to a Label somewhere else in the event.</div><div class="ttdef"><b>Definition:</b> <a href="_go_to_8cs_source.html#l00006">GoTo.cs:7</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_localized_string_html"><div class="ttname"><a href="class_barotrauma_1_1_localized_string.html">Barotrauma.LocalizedString</a></div><div class="ttdef"><b>Definition:</b> <a href="_localized_string_8cs_source.html#l00007">LocalizedString.cs:8</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_localized_string_html_a1c0e34ba9ff88d96cb6836fb26b8eddc"><div class="ttname"><a href="class_barotrauma_1_1_localized_string.html#a1c0e34ba9ff88d96cb6836fb26b8eddc">Barotrauma.LocalizedString.Fallback</a></div><div class="ttdeci">LocalizedString Fallback(LocalizedString fallback, bool useDefaultLanguageIfFound=true)</div><div class="ttdoc">Use this text instead if the original text cannot be found.</div><div class="ttdef"><b>Definition:</b> <a href="_localized_string_8cs_source.html#l00116">LocalizedString.cs:116</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_localized_string_html_a1d49a0b0daba172e0f369a9d23cae293"><div class="ttname"><a href="class_barotrauma_1_1_localized_string.html#a1d49a0b0daba172e0f369a9d23cae293">Barotrauma.LocalizedString.Value</a></div><div class="ttdeci">string Value</div><div class="ttdef"><b>Definition:</b> <a href="_localized_string_8cs_source.html#l00020">LocalizedString.cs:21</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_mission_html"><div class="ttname"><a href="class_barotrauma_1_1_mission.html">Barotrauma.Mission</a></div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_events_2_missions_2_mission_8cs_source.html#l00013">BarotraumaShared/SharedSource/Events/Missions/Mission.cs:14</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_networking_1_1_client_html"><div class="ttname"><a href="class_barotrauma_1_1_networking_1_1_client.html">Barotrauma.Networking.Client</a></div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_lua_cs_2_lua_2_lua_barotrauma_additions_8cs_source.html#l00010">BarotraumaShared/SharedSource/LuaCs/Lua/LuaBarotraumaAdditions.cs:11</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_networking_1_1_client_html_a711fda3d81e2ab86a9aded9a577f848b"><div class="ttname"><a href="class_barotrauma_1_1_networking_1_1_client.html#a711fda3d81e2ab86a9aded9a577f848b">Barotrauma.Networking.Client.InGame</a></div><div class="ttdeci">bool InGame</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_networking_2_client_8cs_source.html#l00178">BarotraumaShared/SharedSource/Networking/Client.cs:179</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_networking_1_1_client_html_aab1bf4aa50e82b571210681a8fc44580"><div class="ttname"><a href="class_barotrauma_1_1_networking_1_1_client.html#aab1bf4aa50e82b571210681a8fc44580">Barotrauma.Networking.Client.Character</a></div><div class="ttdeci">Character??? Character</div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_networking_2_client_8cs_source.html#l00075">BarotraumaShared/SharedSource/Networking/Client.cs:76</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_networking_1_1_game_server_html_a2c382f55d9d3dd932e2ab2c1ff2ed077"><div class="ttname"><a href="class_barotrauma_1_1_networking_1_1_game_server.html#a2c382f55d9d3dd932e2ab2c1ff2ed077">Barotrauma.Networking.GameServer.ConnectedClients</a></div><div class="ttdeci">override IReadOnlyList&lt; Client &gt; ConnectedClients</div><div class="ttdef"><b>Definition:</b> <a href="_game_server_8cs_source.html#l00116">GameServer.cs:117</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_scripted_event_html"><div class="ttname"><a href="class_barotrauma_1_1_scripted_event.html">Barotrauma.ScriptedEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="_scripted_event_8cs_source.html#l00008">ScriptedEvent.cs:9</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_scripted_event_html_a8d6a9292e8a7eeec6b5fe94016606aa2"><div class="ttname"><a href="class_barotrauma_1_1_scripted_event.html#a8d6a9292e8a7eeec6b5fe94016606aa2">Barotrauma.ScriptedEvent.ReplaceVariablesInEventText</a></div><div class="ttdeci">virtual LocalizedString ReplaceVariablesInEventText(LocalizedString str)</div><div class="ttdef"><b>Definition:</b> <a href="_scripted_event_8cs_source.html#l00209">ScriptedEvent.cs:209</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_scripted_event_html_ae59cea1d0265ab15e86a49cf4ad6cf41"><div class="ttname"><a href="class_barotrauma_1_1_scripted_event.html#ae59cea1d0265ab15e86a49cf4ad6cf41">Barotrauma.ScriptedEvent.AddTarget</a></div><div class="ttdeci">void AddTarget(Identifier tag, Entity target)</div><div class="ttdef"><b>Definition:</b> <a href="_scripted_event_8cs_source.html#l00239">ScriptedEvent.cs:239</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_scripted_event_html_aefb29933c37f8b407acdbed993b6a839"><div class="ttname"><a href="class_barotrauma_1_1_scripted_event.html#aefb29933c37f8b407acdbed993b6a839">Barotrauma.ScriptedEvent.GetTargets</a></div><div class="ttdeci">IEnumerable&lt; Entity &gt; GetTargets(Identifier tag)</div><div class="ttdef"><b>Definition:</b> <a href="_scripted_event_8cs_source.html#l00300">ScriptedEvent.cs:300</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_scripted_event_html_afc32bbb3dce05901353474a26df91794"><div class="ttname"><a href="class_barotrauma_1_1_scripted_event.html#afc32bbb3dce05901353474a26df91794">Barotrauma.ScriptedEvent.GetTextForReplacementElement</a></div><div class="ttdeci">virtual string GetTextForReplacementElement(string tag)</div><div class="ttdef"><b>Definition:</b> <a href="_scripted_event_8cs_source.html#l00185">ScriptedEvent.cs:185</a></div></div>
<div class="ttc" id="aclass_barotrauma_1_1_serialize_html"><div class="ttname"><a href="class_barotrauma_1_1_serialize.html">Barotrauma.Serialize</a></div><div class="ttdef"><b>Definition:</b> <a href="_serializable_property_8cs_source.html#l00022">SerializableProperty.cs:23</a></div></div>
<div class="ttc" id="anamespace_barotrauma_1_1_extensions_html"><div class="ttname"><a href="namespace_barotrauma_1_1_extensions.html">Barotrauma.Extensions</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_enumerable_extensions_8cs_source.html#l00008">IEnumerableExtensions.cs:9</a></div></div>
<div class="ttc" id="anamespace_barotrauma_1_1_networking_html"><div class="ttname"><a href="namespace_barotrauma_1_1_networking.html">Barotrauma.Networking</a></div><div class="ttdef"><b>Definition:</b> <a href="_barotrauma_shared_2_shared_source_2_lua_cs_2_lua_2_lua_barotrauma_additions_8cs_source.html#l00008">BarotraumaShared/SharedSource/LuaCs/Lua/LuaBarotraumaAdditions.cs:9</a></div></div>
<div class="ttc" id="anamespace_barotrauma_1_1_networking_html_add3372db2e3cffdc066c7a035266a7b2aa240fa27925a635b08dc28c9e4f9216d"><div class="ttname"><a href="namespace_barotrauma_1_1_networking.html#add3372db2e3cffdc066c7a035266a7b2aa240fa27925a635b08dc28c9e4f9216d">Barotrauma.Networking.ChatMessageType.Order</a></div><div class="ttdeci">@ Order</div></div>
<div class="ttc" id="anamespace_barotrauma_html"><div class="ttname"><a href="namespace_barotrauma.html">Barotrauma</a></div><div class="ttdef"><b>Definition:</b> <a href="_achievement_manager_8cs_source.html#l00011">AchievementManager.cs:12</a></div></div>
<div class="ttc" id="anamespace_barotrauma_html_ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4"><div class="ttname"><a href="namespace_barotrauma.html#ace0a154441ef8d85d2f2c0f636a001c4a76a40e4f974fd895a0a2598c1cee28b4">Barotrauma.AttackTarget.Character</a></div><div class="ttdeci">@ Character</div><div class="ttdoc">Characters only</div></div>
<div class="ttc" id="anamespace_barotrauma_html_aef3e8dd1c7f82d86897cdd111f258f87"><div class="ttname"><a href="namespace_barotrauma.html#aef3e8dd1c7f82d86897cdd111f258f87">Barotrauma.InputType</a></div><div class="ttdeci">InputType</div><div class="ttdef"><b>Definition:</b> <a href="_input_type_8cs_source.html#l00003">InputType.cs:4</a></div></div>
<div class="ttc" id="anamespace_barotrauma_html_aef74ac760c0c487bd00ad7d0d69b6e50"><div class="ttname"><a href="namespace_barotrauma.html#aef74ac760c0c487bd00ad7d0d69b6e50">Barotrauma.IsPropertySaveable</a></div><div class="ttdeci">IsPropertySaveable</div><div class="ttdef"><b>Definition:</b> <a href="_serializable_property_8cs_source.html#l00015">SerializableProperty.cs:16</a></div></div>
<div class="ttc" id="astruct_barotrauma_1_1_character_1_1_assign_campaign_interaction_event_data_html"><div class="ttname"><a href="struct_barotrauma_1_1_character_1_1_assign_campaign_interaction_event_data.html">Barotrauma.Character.AssignCampaignInteractionEventData</a></div><div class="ttdef"><b>Definition:</b> <a href="_character_event_data_8cs_source.html#l00127">CharacterEventData.cs:128</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8575ad821fc3b469d94fde51c8787ee3.html">Barotrauma</a></li><li class="navelem"><a class="el" href="dir_8b99819d2ee30d5e48f0b0f8b94f385a.html">BarotraumaShared</a></li><li class="navelem"><a class="el" href="dir_37517cc6f95be7cb877361d257ae4695.html">SharedSource</a></li><li class="navelem"><a class="el" href="dir_1be2081d0bdcabc8893fe736140c4b2e.html">Events</a></li><li class="navelem"><a class="el" href="dir_2e62ca7386a9cbb99c2f33e1477a9483.html">EventActions</a></li><li class="navelem"><b>ConversationAction.cs</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
